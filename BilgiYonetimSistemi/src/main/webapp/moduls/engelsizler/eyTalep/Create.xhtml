<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:h="jakarta.faces.html"
      xmlns:p="primefaces"
      xmlns:coco="jakarta.faces.composite/ui">

<ui:composition>

    <coco:createpage id="EyTalepCreateForm"
                     renderedListener="#{eyTalepController.selected != null}"
                     widgetVar="EyTalepCreateDialog"
                     actionListener="#{eyTalepController.saveNew}"
                     listForm="EyTalepListForm">

        <p:outputLabel value="#{messages.tcKimlikNoLabel}" for="@next"/>
        <coco:inputWithButton id="inputWithButtonEyKisi" inputId="eyKisiId"
                              inputValue="#{eyTalepController.selected.eyKisi.gnlKisi.tcKimlikNo}"
                              inputTitle="#{messages.tcKimlikNoText}"
                              actionListener="#{bysController.openCommonDialog('eyKisiSec')}"
                              ajaxListener="#{eyTalepController.secilenEyKisi}"
                              buttonTitle="#{messages.kisiSecmelisiniz}"
                              size="50"
                              dialogId="EyTalepCreateDialogId"/>

        <p:outputLabel value="#{messages.adLabel}" for="@next"/>
        <p:inputText id="ad" value="#{eyTalepController.selected.eyKisi.gnlKisi.ad}" title="#{messages.adText}"
                     size="50" maxlength="50" readonly="true" styleClass="inputUpdate"/>

        <p:outputLabel value="#{messages.soyadLabel}" for="@next"/>
        <p:inputText id="soyad" value="#{eyTalepController.selected.eyKisi.gnlKisi.soyad}"
                     title="#{messages.soyadText}" size="50" maxlength="50" readonly="true" styleClass="inputUpdate"/>

        <p:outputLabel value="#{messages.telefonLabel}" for="@next"/>
        <h:panelGroup>
            <p:inputText value="#{eyTalepController.selected.eyKisi.gnlKisi.telefon}" styleClass="inputUpdate" readonly="true"/>
            <p:inputText value="#{eyTalepController.selected.eyKisi.gnlKisi.telefon2}" styleClass="inputUpdate" readonly="true"/>
        </h:panelGroup>

        <p:outputLabel value="#{messages.tarihLabel}" for="@next"/>
        <p:datePicker id="tarih" locale="tr" pattern="#{messages.tarihSaatFormat}"
                      value="#{eyTalepController.selected.tarih}" title="#{messages.tarihText}" mask="true"
                      monthNavigator="true" yearNavigator="true" showButtonBar="true" showIcon="true"/>

        <p:outputLabel value="#{messages.talepTuruLabel}" for="@next"/>
        <p:selectOneMenu id="talepTuru" value="#{eyTalepController.selected.talepTuru}"
                         required="true" converter="omnifaces.SelectItemsConverter">
            <f:selectItem itemLabel="#{messages.seciniz}" itemValue="#{null}"/>
            <f:selectItems value="#{enumTalepTuru.ALL_VALUES}"
                           var="talepTurus"
                           itemLabel="#{talepTurus.displayValue}"
                           itemValue="#{talepTurus}"/>
        </p:selectOneMenu>

        <p:outputLabel value="#{messages.talepTipiLabel}" for="@next"/>
        <p:selectOneMenu id="talepTipi" value="#{eyTalepController.selected.talepTipi}"
                         required="true" converter="omnifaces.SelectItemsConverter">
            <f:selectItem itemLabel="#{messages.seciniz}" itemValue="#{null}"/>
            <f:selectItems value="#{enumTalepTipi.ALL_VALUES}"
                           var="talepTipis"
                           itemLabel="#{talepTipis.displayValue}"
                           itemValue="#{talepTipis}"/>
        </p:selectOneMenu>

        <p:outputLabel value="#{messages.konuLabel}" for="@next"/>
        <p:selectOneMenu id="konu" value="#{eyTalepController.selected.eyTalepKonu}" required="true" filter="true"
                         converter="omnifaces.SelectItemsConverter">
            <f:selectItem itemLabel="#{messages.seciniz}" itemValue="#{null}"/>
            <f:selectItems value="#{eyTalepKonuController.items}"
                           var="konulars"
                           itemLabel="#{konulars.tanim}"
                           itemValue="#{konulars}"/>
        </p:selectOneMenu>

        <p:outputLabel value="#{messages.aciklamaLabel}" for="@next"/>
        <p:inputTextarea rows="4" id="aciklama" value="#{eyTalepController.selected.aciklama}"
                         title="#{messages.aciklamaText}" styleClass="w-100" autoResize="false"/>

    </coco:createpage>

</ui:composition>

</html>
