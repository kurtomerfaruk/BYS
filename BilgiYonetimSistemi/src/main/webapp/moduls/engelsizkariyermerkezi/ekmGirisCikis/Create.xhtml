<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="jakarta.faces.html"
      xmlns:coco="jakarta.faces.composite/ui">

<ui:composition>

    <coco:createpage id="EkmGirisCikisCreateForm"
                     renderedListener="#{ekmGirisCikisController.selected != null}"
                     widgetVar="EkmGirisCikisCreateDialog"
                     actionListener="#{ekmGirisCikisController.saveNew}"
                     listForm="EkmGirisCikisListForm">

        <p:outputLabel value="#{messages.girisTarihiLabel}" for="@next"/>
        <p:datePicker id="girisTarihi" locale="tr" pattern="#{messages.tarihSaatFormat}" value="#{ekmGirisCikisController.selected.girisTarihi}"
                      title="#{messages.girisTarihiText}" mask="true" monthNavigator="true" yearNavigator="true" showButtonBar="true" showIcon="true"
                      showOnFocus="false" showTime="true"/>

        <p:outputLabel value="#{messages.kursLabel}" for="@next"/>
        <p:selectOneMenu id="gnlKurs" value="#{ekmGirisCikisController.selected.gnlKurs}" required="true" filter="true"
                         converter="omnifaces.SelectItemsConverter" filterNormalize="true" style="width:500px !important;">
            <f:selectItem itemLabel="#{messages.seciniz}"/>
            <f:selectItems value="#{gnlKursController.items}"
                           var="kursIdItem"
                           itemValue="#{kursIdItem}"
                           itemLabel="#{kursIdItem.tanim.toString()}"/>
            <p:ajax event="change" update="ekmKursiyer" onstart="PF('Loading').show()" oncomplete="PF('Loading').hide()"/>
        </p:selectOneMenu>

        <p:outputLabel value="#{messages.kursiyerLabel}" for="@next"/>
        <p:selectOneMenu id="ekmKursiyer" value="#{ekmGirisCikisController.selected.ekmKursiyer}" filter="true" required="true" filterNormalize="true"
                         converter="omnifaces.SelectItemsConverter" var="kursiyer" title="#{messages.kursiyerText}" label="#{messages.kursiyerText}">
            <f:selectItems value="#{ekmGirisCikisController.getTraineeList()}"
                           var="kursiyers"
                           itemLabel="#{kursiyers.eyKisi.gnlKisi.adSoyad}"
                           itemValue="#{kursiyers}"/>
            <p:column style="width: 20%">
                <f:facet name="header">
                    <h:outputText value="T.C."/>
                </f:facet>
                <h:outputText value="#{kursiyer.eyKisi.gnlKisi.tcKimlikNo}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Ad Soyad"/>
                </f:facet>
                <h:outputText value="#{kursiyer.eyKisi.gnlKisi.adSoyad}"/>
            </p:column>
        </p:selectOneMenu>

    </coco:createpage>

</ui:composition>

</html>
