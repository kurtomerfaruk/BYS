<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:coco="jakarta.faces.composite/ui"
      xmlns:h="jakarta.faces.html">

<ui:composition>

   <coco:custompage id="CikisYapForm"
                    renderedListener="#{ekmGirisCikisController.selected != null}"
                    widgetVar="CikisYapDialog"
                    actionListener="#{ekmGirisCikisController.save}"
                    listForm="EkmGirisCikisListForm"
                    header="#{messages.dialogCikisYap}"
                    focus="CikisYapForm:CikisYapForm:cikisTarihi">

      <h:outputText value="#{messages.kursLabel}"/>
      <h:outputText value="#{ekmGirisCikisController.selected.gnlKurs.tanim}"/>

      <p:outputLabel value="#{messages.kursiyerLabel}" for="@next"/>
      <p:selectOneMenu id="ekmKursiyer" value="#{ekmGirisCikisController.selected.ekmKursiyer}" filter="true" required="true" filterNormalize="true"
                       converter="omnifaces.SelectItemsConverter" var="kursiyer" title="#{messages.kursiyerText}" label="#{messages.kursiyerText}">
         <f:selectItems value="#{ekmGirisCikisController.getTraineeList()}"
                        var="kursiyers"
                        itemLabel="#{kursiyers.eyKisi.gnlKisi.adSoyad}"
                        itemValue="#{kursiyers}"/>
         <p:column style="width: 20%">
            <f:facet name="header">
               <h:outputText value="T.C."/>
            </f:facet>
            <h:outputText value="#{kursiyer.eyKisi.gnlKisi.tcKimlikNo}"/>
         </p:column>
         <p:column>
            <f:facet name="header">
               <h:outputText value="Ad Soyad"/>
            </f:facet>
            <h:outputText value="#{kursiyer.eyKisi.gnlKisi.adSoyad}"/>
         </p:column>
      </p:selectOneMenu>

      <h:outputText value="#{messages.girisTarihiLabel}"/>
      <h:outputText value="#{ekmGirisCikisController.selected.girisTarihi}">
         <f:convertDateTime pattern="#{messages.tarihSaatFormat}" type="localDateTime"/>
      </h:outputText>

      <p:outputLabel value="#{messages.cikisTarihiLabel}" for="@next"/>
      <p:datePicker id="cikisTarihi" locale="tr" pattern="#{messages.tarihSaatFormat}" value="#{ekmGirisCikisController.selected.cikisTarihi}"
                    title="#{messages.cikisTarihiText}" mask="true" monthNavigator="true" yearNavigator="true" showButtonBar="true" showIcon="true"
                    showOnFocus="false" showTime="true"/>

   </coco:custompage>

</ui:composition>

</html>
