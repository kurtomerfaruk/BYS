<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:p="primefaces">
<h:body>

    <h:form id="DinamikRapor">
        <p:importEnum type="tr.bel.gaziantep.bysweb.core.enums.genel.EnumGnlAramaModul" var="enumGnlAramaModul"/>

        <div class="row">
            <div class="col-xxl-12">
                <div class="card custom-card">
                    <div class="card-header">
                        <div class="card-title">
                            Genel Arama Listesi
                        </div>
                    </div>
                    <div class="card-body">
                        <p:panelGrid columns="6" layout="grid"
                                     columnClasses="ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4,ui-grid-col-2,ui-grid-col-4"
                                     styleClass="ui-panelgrid-blank ui-fluid">
                            <p:outputLabel value="Modül" for="@next" style="margin-top: 10px !important;"/>
                            <p:selectOneMenu value="#{gnlAramaReport.aramaModul}" converter="omnifaces.SelectItemsConverter"
                                             filter="true" filterNormalize="true" filterMatchMode="contains" filterPlaceholder="Modül seçiniz">
                                <f:selectItem itemValue="#{null}" itemLabel="#{messages.seciniz}"/>
                                <f:selectItems value="#{enumGnlAramaModul.ALL_VALUES}"
                                               var="moduls"
                                               itemValue="#{moduls}"
                                               itemLabel="#{moduls.displayValue}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="İlçe" for="@next" style="margin-top: 10px !important;"/>
                            <p:selectOneMenu value="#{gnlAramaReport.gnlIlce}" converter="omnifaces.SelectItemsConverter"
                                             filter="true" filterNormalize="true" filterMatchMode="contains" filterPlaceholder="İlçe Seçiniz...">
                                <f:selectItem itemValue="#{null}" itemLabel="#{messages.seciniz}"/>
                                <f:selectItems value="#{gnlIlceController.getIlceByIl()}"
                                               var="ilces"
                                               itemValue="#{ilces}"
                                               itemLabel="#{ilces.tanim}"/>
                                <p:ajax event="change" update="mahalle"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Mahalle" for="@next" style="margin-top: 10px !important;"/>
                            <p:selectOneMenu id="mahalle" value="#{gnlAramaReport.gnlMahalle}" converter="omnifaces.SelectItemsConverter"
                                             filter="true" filterNormalize="true" filterMatchMode="contains" filterPlaceholder="Mahalle Seçiniz...">
                                <f:selectItem itemValue="#{null}" itemLabel="#{messages.seciniz}"/>
                                <f:selectItems value="#{gnlMahalleController.getMahalleByIlce(gnlAramaReport.gnlIlce)}"
                                               var="mahalles"
                                               itemValue="#{mahalles}"
                                               itemLabel="#{mahalles.tanim}"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="#{messages.yasAraligiLabel}" for="@next"/>
                            <h:panelGroup>
                                <p:spinner id="minYas" value="#{gnlAramaReport.minYas}" stepFactor="1" min="0" max="150"/>
                                <p:spinner id="maxYas" value="#{gnlAramaReport.maxYas}" stepFactor="1" min="0" max="150"/>
                            </h:panelGroup>

                            <p:outputLabel value="Sağ :" for="@next"/>
                            <p:selectBooleanCheckbox value="#{gnlAramaReport.sag}"/>

                            <p:outputLabel value="#{messages.engelGrubuLabel}" for="@next"/>
                            <p:selectOneMenu value="#{gnlAramaReport.engelGrubu}" filter="true" filterNormalize="true"
                                             converter="omnifaces.SelectItemsConverter">
                                <f:selectItem itemLabel="#{messages.seciniz}" itemValue="#{null}"/>
                                <f:selectItems value="#{eyEngelGrubuController.items}"
                                               var="engelGrubus"
                                               itemValue="#{engelGrubus}"
                                               itemLabel="#{engelGrubus.tanim}"/>
                            </p:selectOneMenu>

                        </p:panelGrid>
                    </div>
                    <div class="card-footer border-top-0">
                        <div class="px-4 py-3 border-top border-block-start-dashed d-sm-flex justify-content-end">
                            <p:commandButton value="#{messages.buttonYazdir}" styleClass="mr-2" style="width: auto" icon="pi pi-print"
                                             actionListener="#{gnlAramaReport.print()}"
                                             process="@form" update=":growl,@form" ajax="false"/>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </h:form>
    <ui:include src="/print/Print.xhtml"/>
</h:body>
</html>
